    <title>Rosan's Chat Room</title>
            border: 1px solid #eee;
            padding: 10px;
            border-radius: 5px;
            background-color: #fafafa;
            padding: 8px;
            border-radius: 5px;
            background-color: #f0f0f0;
        }

        .message.own {
            background-color: #e3f2fd;
            text-align: right;
            color: #007bff;
        }

        .timestamp {
            font-size: 0.8em;
            color: #666;
            margin-left: 10px;

        .status {
            color: #28a745;
            font-size: 0.9em;
            margin-top: 5px;
        }
        <div id="chat-log">
            <!-- Display existing messages from database -->
            {% for message in messages %}
                <div class="message">
                    <span class="username">{{ message.username }}:</span> 
                    {{ message.content }}
                    <span class="timestamp">{{ message.timestamp|date:"H:i" }}</span>
                </div>
            {% empty %}
                <div class="message">
                    <span class="username">System:</span> No messages yet. Start the conversation!
                </div>
            {% endfor %}
        </div>
        <div class="status" id="status">Ready to chat!</div>
    // Floating shapes animation code
    // Simple AJAX-based chat (works with regular Django server)
    const chatLog = document.querySelector('#chat-log');
    const statusDiv = document.querySelector('#status');
    
    let lastMessageCount = {{ messages|length }};

    // Function to send message
    function sendMessage() {

        statusDiv.textContent = 'Sending...';
        
        // Create form data
        const formData = new FormData();
        formData.append('message', message);
        formData.append('csrfmiddlewaretoken', '{{ csrf_token }}');

        fetch('/chat/send/', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                messageInputDom.value = '';
                statusDiv.textContent = 'Message sent!';
                loadNewMessages();
            } else {
                statusDiv.textContent = 'Failed to send message';
            }
        })
        .catch(error => {
            console.error('Error:', error);
            statusDiv.textContent = 'Error sending message';
        });
    }

    // Function to load new messages
    function loadNewMessages() {
        fetch('/chat/messages/')
        .then(response => response.json())
        .then(data => {
            if (data.messages.length > lastMessageCount) {
                // Add new messages
                for (let i = lastMessageCount; i < data.messages.length; i++) {
                    const msg = data.messages[i];
                    const messageDiv = document.createElement('div');
                    messageDiv.className = 'message';
                    
                    const timestamp = new Date(msg.timestamp).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                    messageDiv.innerHTML = `<span class="username">${msg.username}:</span> ${msg.content} <span class="timestamp">${timestamp}</span>`;
                    
                    chatLog.appendChild(messageDiv);
                }
                lastMessageCount = data.messages.length;
                chatLog.scrollTop = chatLog.scrollHeight;
                statusDiv.textContent = 'Ready to chat!';
            }
        })
        .catch(error => {
            console.error('Error loading messages:', error);
        });
    }

    // Event listeners
    messageInputDom.addEventListener('keyup', function(e) {
        if (e.key === 'Enter') {
            sendMessage();
        }
    });

    document.querySelector('#chat-message-submit').addEventListener('click', sendMessage);

    // Poll for new messages every 2 seconds
    setInterval(loadNewMessages, 2000);

    // Auto-scroll to bottom on page load
    document.addEventListener('DOMContentLoaded', function() {
        chatLog.scrollTop = chatLog.scrollHeight;
    });